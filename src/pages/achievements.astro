---
import BaseLayout from "../layouts/BaseLayout.astro";
import SectionHeader from "../components/SectionHeader.astro";
import { getCollection } from "astro:content";

const achievements = await getCollection("achievements");
---

<BaseLayout title="Achievements | Gangeshwar Singh" description="Awards and recognition for public service and literary work.">
  <section class="section-shell pt-10 pb-16 space-y-6">
    <SectionHeader eyebrow="Highlights" title="Achievements" description="Cards pull from Markdown frontmatter so new items can be added without code changes." />
    <div class="grid gap-6 md:grid-cols-2 lg:grid-cols-3">
      {achievements.map((item) => (
        <article class="card overflow-hidden flex flex-col">
          {item.data.image && (
            <div class="aspect-[4/3] bg-slate-50">
              <img src={item.data.image} alt={item.data.title} loading="lazy" class="w-full h-full object-cover" />
            </div>
          )}
          <div class="p-5 space-y-2 flex-1 flex flex-col">
            <h3 class="text-lg font-semibold text-slate-900">{item.data.title}</h3>
            {item.data.year && <p class="text-sm text-slate-500">{item.data.year}</p>}
            {item.data.description && <p class="text-slate-700 flex-1">{item.data.description}</p>}
            {item.data.link && (
              <a href={item.data.link} class="text-indigo-700 font-semibold hover:underline mt-auto" target="_blank" rel="noreferrer">
                View certificate
              </a>
            )}
          </div>
        </article>
      ))}
    </div>
  </section>
</BaseLayout>
